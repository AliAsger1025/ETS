{"ast":null,"code":"var _jsxFileName = \"/Users/aliasger/employee_tracking_system/frontend/src/components/Employee/MyAttendance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Table, Badge, Form, Row, Col, Button } from 'react-bootstrap';\nimport moment from 'moment';\nimport { useAuth } from '../../context/AuthContext';\nimport { FaChartLine, FaCalendarAlt, FaDownload } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyAttendance = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [attendanceData, setAttendanceData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(moment().format('YYYY-MM'));\n  const [stats, setStats] = useState({\n    totalDays: 0,\n    presentDays: 0,\n    absentDays: 0,\n    lateArrivals: 0,\n    totalHours: 0\n  });\n  useEffect(() => {\n    generateSampleData();\n  }, [selectedMonth]);\n  const generateSampleData = () => {\n    // Generate sample attendance data for demo purposes\n    const startDate = moment(selectedMonth).startOf('month');\n    const endDate = moment(selectedMonth).endOf('month');\n    const sampleData = [];\n    const currentDate = startDate.clone();\n    while (currentDate.isSameOrBefore(endDate)) {\n      // Skip weekends for demo\n      if (currentDate.day() !== 0 && currentDate.day() !== 6) {\n        const isPresent = Math.random() > 0.1; // 90% attendance rate\n        const clockIn = isPresent ? moment(currentDate).hour(9).minute(Math.floor(Math.random() * 60)) : null;\n        const clockOut = isPresent ? moment(clockIn).add(8 + Math.random() * 2, 'hours') : null;\n\n        // Check if existing data for today exists in localStorage\n        const todayKey = `timesheet_${user === null || user === void 0 ? void 0 : user._id}_${currentDate.format('YYYY-MM-DD')}`;\n        const existingData = localStorage.getItem(todayKey);\n        let dayData;\n        if (existingData && currentDate.isSame(moment(), 'day')) {\n          // Use real data for today if available\n          const realData = JSON.parse(existingData);\n          dayData = {\n            date: currentDate.clone(),\n            clockIn: realData.empClockIn ? moment(realData.empClockIn) : null,\n            clockOut: realData.empClockOut ? moment(realData.empClockOut) : null,\n            status: realData.empClockIn ? 'Present' : 'Absent',\n            workingFrom: realData.empWorkingFrom || 'Office',\n            hoursWorked: realData.empHoursLogged || 0,\n            isLate: realData.empClockIn ? moment(realData.empClockIn).hour() > 9 : false\n          };\n        } else {\n          dayData = {\n            date: currentDate.clone(),\n            clockIn: clockIn,\n            clockOut: clockOut,\n            status: isPresent ? 'Present' : 'Absent',\n            workingFrom: Math.random() > 0.3 ? 'Office' : 'Home',\n            hoursWorked: clockOut ? clockOut.diff(clockIn, 'hours', true) : 0,\n            isLate: clockIn ? clockIn.hour() > 9 || clockIn.hour() === 9 && clockIn.minute() > 15 : false\n          };\n        }\n        sampleData.push(dayData);\n      }\n      currentDate.add(1, 'day');\n    }\n    setAttendanceData(sampleData);\n    setFilteredData(sampleData);\n    calculateStats(sampleData);\n  };\n  const calculateStats = data => {\n    const totalDays = data.length;\n    const presentDays = data.filter(d => d.status === 'Present').length;\n    const absentDays = totalDays - presentDays;\n    const lateArrivals = data.filter(d => d.isLate).length;\n    const totalHours = data.reduce((sum, d) => sum + (d.hoursWorked || 0), 0);\n    setStats({\n      totalDays,\n      presentDays,\n      absentDays,\n      lateArrivals,\n      totalHours: Math.round(totalHours * 100) / 100\n    });\n  };\n  const getStatusBadge = (status, isLate) => {\n    if (status === 'Present') {\n      return /*#__PURE__*/_jsxDEV(Badge, {\n        bg: isLate ? 'warning' : 'success',\n        children: isLate ? 'Present (Late)' : 'Present'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: \"danger\",\n      children: \"Absent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }, this);\n  };\n  const handleMonthChange = e => {\n    setSelectedMonth(e.target.value);\n  };\n  const exportAttendance = () => {\n    // Simple CSV export\n    const csvContent = [['Date', 'Status', 'Clock In', 'Clock Out', 'Hours Worked', 'Working From'], ...filteredData.map(row => [row.date.format('YYYY-MM-DD'), row.status + (row.isLate ? ' (Late)' : ''), row.clockIn ? row.clockIn.format('HH:mm') : '-', row.clockOut ? row.clockOut.format('HH:mm') : '-', row.hoursWorked ? row.hoursWorked.toFixed(2) : '0.00', row.workingFrom])];\n    const csvString = csvContent.map(row => row.join(',')).join('\\n');\n    const blob = new Blob([csvString], {\n      type: 'text/csv'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `attendance_${selectedMonth}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(FaChartLine, {\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), \"My Attendance Summary\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-success\",\n                    children: stats.presentDays\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Present Days\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-danger\",\n                    children: stats.absentDays\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Absent Days\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-warning\",\n                    children: stats.lateArrivals\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Late Arrivals\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-info\",\n                    children: stats.totalHours\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Total Hours\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Attendance Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress mb-3\",\n              style: {\n                height: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar bg-success\",\n                style: {\n                  width: `${stats.totalDays > 0 ? stats.presentDays / stats.totalDays * 100 : 0}%`\n                },\n                children: [stats.totalDays > 0 ? Math.round(stats.presentDays / stats.totalDays * 100) : 0, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: [stats.presentDays, \" out of \", stats.totalDays, \" working days\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), \"Attendance Details\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"month\",\n              value: selectedMonth,\n              onChange: handleMonthChange,\n              max: moment().format('YYYY-MM')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-primary\",\n              onClick: exportAttendance,\n              className: \"w-100\",\n              children: [/*#__PURE__*/_jsxDEV(FaDownload, {\n                className: \"me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), \"Export\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            striped: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Clock In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Clock Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Hours Worked\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Working From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredData.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  className: \"text-center py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-muted\",\n                    children: \"No attendance data found for the selected month.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this) : filteredData.map((record, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: record.date.format('MMM DD, YYYY')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: record.date.format('dddd')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: getStatusBadge(record.status, record.isLate)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: record.clockIn ? record.clockIn.format('HH:mm') : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: record.clockOut ? record.clockOut.format('HH:mm') : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: record.hoursWorked > 0 ? `${record.hoursWorked.toFixed(2)} hrs` : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"outline-secondary\",\n                    children: record.workingFrom\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(MyAttendance, \"ZoTH5ssJAa/ArbnLFuyNvig0WEM=\", false, function () {\n  return [useAuth];\n});\n_c = MyAttendance;\nexport default MyAttendance;\nvar _c;\n$RefreshReg$(_c, \"MyAttendance\");","map":{"version":3,"names":["React","useState","useEffect","Card","Table","Badge","Form","Row","Col","Button","moment","useAuth","FaChartLine","FaCalendarAlt","FaDownload","jsxDEV","_jsxDEV","MyAttendance","_s","user","attendanceData","setAttendanceData","filteredData","setFilteredData","selectedMonth","setSelectedMonth","format","stats","setStats","totalDays","presentDays","absentDays","lateArrivals","totalHours","generateSampleData","startDate","startOf","endDate","endOf","sampleData","currentDate","clone","isSameOrBefore","day","isPresent","Math","random","clockIn","hour","minute","floor","clockOut","add","todayKey","_id","existingData","localStorage","getItem","dayData","isSame","realData","JSON","parse","date","empClockIn","empClockOut","status","workingFrom","empWorkingFrom","hoursWorked","empHoursLogged","isLate","diff","push","calculateStats","data","length","filter","d","reduce","sum","round","getStatusBadge","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","handleMonthChange","e","target","value","exportAttendance","csvContent","map","row","toFixed","csvString","join","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","className","md","Header","Body","style","height","width","Control","onChange","max","variant","onClick","striped","hover","colSpan","record","index","_c","$RefreshReg$"],"sources":["/Users/aliasger/employee_tracking_system/frontend/src/components/Employee/MyAttendance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, Table, Badge, Form, Row, Col, Button } from 'react-bootstrap';\nimport moment from 'moment';\nimport { useAuth } from '../../context/AuthContext';\nimport { FaChartLine, FaCalendarAlt, FaDownload } from 'react-icons/fa';\n\nconst MyAttendance = () => {\n  const { user } = useAuth();\n  const [attendanceData, setAttendanceData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(moment().format('YYYY-MM'));\n  const [stats, setStats] = useState({\n    totalDays: 0,\n    presentDays: 0,\n    absentDays: 0,\n    lateArrivals: 0,\n    totalHours: 0\n  });\n\n  useEffect(() => {\n    generateSampleData();\n  }, [selectedMonth]);\n\n  const generateSampleData = () => {\n    // Generate sample attendance data for demo purposes\n    const startDate = moment(selectedMonth).startOf('month');\n    const endDate = moment(selectedMonth).endOf('month');\n    const sampleData = [];\n    \n    const currentDate = startDate.clone();\n    while (currentDate.isSameOrBefore(endDate)) {\n      // Skip weekends for demo\n      if (currentDate.day() !== 0 && currentDate.day() !== 6) {\n        const isPresent = Math.random() > 0.1; // 90% attendance rate\n        const clockIn = isPresent ? \n          moment(currentDate).hour(9).minute(Math.floor(Math.random() * 60)) : null;\n        const clockOut = isPresent ? \n          moment(clockIn).add(8 + Math.random() * 2, 'hours') : null;\n        \n        // Check if existing data for today exists in localStorage\n        const todayKey = `timesheet_${user?._id}_${currentDate.format('YYYY-MM-DD')}`;\n        const existingData = localStorage.getItem(todayKey);\n        \n        let dayData;\n        if (existingData && currentDate.isSame(moment(), 'day')) {\n          // Use real data for today if available\n          const realData = JSON.parse(existingData);\n          dayData = {\n            date: currentDate.clone(),\n            clockIn: realData.empClockIn ? moment(realData.empClockIn) : null,\n            clockOut: realData.empClockOut ? moment(realData.empClockOut) : null,\n            status: realData.empClockIn ? 'Present' : 'Absent',\n            workingFrom: realData.empWorkingFrom || 'Office',\n            hoursWorked: realData.empHoursLogged || 0,\n            isLate: realData.empClockIn ? moment(realData.empClockIn).hour() > 9 : false\n          };\n        } else {\n          dayData = {\n            date: currentDate.clone(),\n            clockIn: clockIn,\n            clockOut: clockOut,\n            status: isPresent ? 'Present' : 'Absent',\n            workingFrom: Math.random() > 0.3 ? 'Office' : 'Home',\n            hoursWorked: clockOut ? clockOut.diff(clockIn, 'hours', true) : 0,\n            isLate: clockIn ? clockIn.hour() > 9 || (clockIn.hour() === 9 && clockIn.minute() > 15) : false\n          };\n        }\n        \n        sampleData.push(dayData);\n      }\n      currentDate.add(1, 'day');\n    }\n    \n    setAttendanceData(sampleData);\n    setFilteredData(sampleData);\n    calculateStats(sampleData);\n  };\n\n  const calculateStats = (data) => {\n    const totalDays = data.length;\n    const presentDays = data.filter(d => d.status === 'Present').length;\n    const absentDays = totalDays - presentDays;\n    const lateArrivals = data.filter(d => d.isLate).length;\n    const totalHours = data.reduce((sum, d) => sum + (d.hoursWorked || 0), 0);\n\n    setStats({\n      totalDays,\n      presentDays,\n      absentDays,\n      lateArrivals,\n      totalHours: Math.round(totalHours * 100) / 100\n    });\n  };\n\n  const getStatusBadge = (status, isLate) => {\n    if (status === 'Present') {\n      return (\n        <Badge bg={isLate ? 'warning' : 'success'}>\n          {isLate ? 'Present (Late)' : 'Present'}\n        </Badge>\n      );\n    }\n    return <Badge bg=\"danger\">Absent</Badge>;\n  };\n\n  const handleMonthChange = (e) => {\n    setSelectedMonth(e.target.value);\n  };\n\n  const exportAttendance = () => {\n    // Simple CSV export\n    const csvContent = [\n      ['Date', 'Status', 'Clock In', 'Clock Out', 'Hours Worked', 'Working From'],\n      ...filteredData.map(row => [\n        row.date.format('YYYY-MM-DD'),\n        row.status + (row.isLate ? ' (Late)' : ''),\n        row.clockIn ? row.clockIn.format('HH:mm') : '-',\n        row.clockOut ? row.clockOut.format('HH:mm') : '-',\n        row.hoursWorked ? row.hoursWorked.toFixed(2) : '0.00',\n        row.workingFrom\n      ])\n    ];\n\n    const csvString = csvContent.map(row => row.join(',')).join('\\n');\n    const blob = new Blob([csvString], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `attendance_${selectedMonth}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"fade-in\">\n      <Row className=\"mb-4\">\n        <Col md={8}>\n          <Card>\n            <Card.Header>\n              <h4 className=\"mb-0\">\n                <FaChartLine className=\"me-2\" />\n                My Attendance Summary\n              </h4>\n            </Card.Header>\n            <Card.Body>\n              <Row className=\"text-center\">\n                <Col md={3}>\n                  <div className=\"p-3\">\n                    <h3 className=\"text-success\">{stats.presentDays}</h3>\n                    <small>Present Days</small>\n                  </div>\n                </Col>\n                <Col md={3}>\n                  <div className=\"p-3\">\n                    <h3 className=\"text-danger\">{stats.absentDays}</h3>\n                    <small>Absent Days</small>\n                  </div>\n                </Col>\n                <Col md={3}>\n                  <div className=\"p-3\">\n                    <h3 className=\"text-warning\">{stats.lateArrivals}</h3>\n                    <small>Late Arrivals</small>\n                  </div>\n                </Col>\n                <Col md={3}>\n                  <div className=\"p-3\">\n                    <h3 className=\"text-info\">{stats.totalHours}</h3>\n                    <small>Total Hours</small>\n                  </div>\n                </Col>\n              </Row>\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card>\n            <Card.Body>\n              <h6>Attendance Rate</h6>\n              <div className=\"progress mb-3\" style={{ height: '20px' }}>\n                <div \n                  className=\"progress-bar bg-success\" \n                  style={{ \n                    width: `${stats.totalDays > 0 ? (stats.presentDays / stats.totalDays) * 100 : 0}%` \n                  }}\n                >\n                  {stats.totalDays > 0 ? Math.round((stats.presentDays / stats.totalDays) * 100) : 0}%\n                </div>\n              </div>\n              <p className=\"text-muted mb-0\">\n                {stats.presentDays} out of {stats.totalDays} working days\n              </p>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n      <Card>\n        <Card.Header>\n          <Row className=\"align-items-center\">\n            <Col>\n              <h4 className=\"mb-0\">\n                <FaCalendarAlt className=\"me-2\" />\n                Attendance Details\n              </h4>\n            </Col>\n            <Col md={3}>\n              <Form.Control\n                type=\"month\"\n                value={selectedMonth}\n                onChange={handleMonthChange}\n                max={moment().format('YYYY-MM')}\n              />\n            </Col>\n            <Col md={2}>\n              <Button variant=\"outline-primary\" onClick={exportAttendance} className=\"w-100\">\n                <FaDownload className=\"me-1\" />\n                Export\n              </Button>\n            </Col>\n          </Row>\n        </Card.Header>\n        <Card.Body>\n          <div className=\"table-responsive\">\n            <Table striped hover>\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Status</th>\n                  <th>Clock In</th>\n                  <th>Clock Out</th>\n                  <th>Hours Worked</th>\n                  <th>Working From</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredData.length === 0 ? (\n                  <tr>\n                    <td colSpan=\"6\" className=\"text-center py-4\">\n                      <div className=\"text-muted\">\n                        No attendance data found for the selected month.\n                      </div>\n                    </td>\n                  </tr>\n                ) : (\n                  filteredData.map((record, index) => (\n                    <tr key={index}>\n                      <td>\n                        <div>\n                          <strong>{record.date.format('MMM DD, YYYY')}</strong>\n                          <br />\n                          <small className=\"text-muted\">\n                            {record.date.format('dddd')}\n                          </small>\n                        </div>\n                      </td>\n                      <td>\n                        {getStatusBadge(record.status, record.isLate)}\n                      </td>\n                      <td>\n                        {record.clockIn ? record.clockIn.format('HH:mm') : '-'}\n                      </td>\n                      <td>\n                        {record.clockOut ? record.clockOut.format('HH:mm') : '-'}\n                      </td>\n                      <td>\n                        {record.hoursWorked > 0 ? `${record.hoursWorked.toFixed(2)} hrs` : '-'}\n                      </td>\n                      <td>\n                        <Badge variant=\"outline-secondary\">\n                          {record.workingFrom}\n                        </Badge>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </Table>\n          </div>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default MyAttendance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}